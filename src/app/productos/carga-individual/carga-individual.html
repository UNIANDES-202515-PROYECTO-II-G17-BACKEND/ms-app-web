<div class="p-6">
  <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-sm p-6">
    <h2 class="text-2xl font-bold text-purple-600 mb-6">Carga Individual de Productos</h2>

    <form [formGroup]="productoForm" (ngSubmit)="onSubmit()">
      <div class="form-container">

        <!-- Nombre del Producto (ancho completo) -->
        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>Nombre del Producto</mat-label>
            <input matInput formControlName="nombre">
            <mat-error *ngIf="productoForm.get('nombre')?.hasError('required')">El nombre es requerido</mat-error>
            <mat-error *ngIf="productoForm.get('nombre')?.hasError('minlength')">El nombre debe tener al menos 3 caracteres</mat-error>
          </mat-form-field>
        </div>

        <!-- Descripción (ancho completo) -->
        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>Descripción</mat-label>
            <textarea matInput formControlName="descripcion" rows="3"></textarea>
            <mat-error *ngIf="productoForm.get('descripcion')?.hasError('required')">La descripción es requerida</mat-error>
            <mat-error *ngIf="productoForm.get('descripcion')?.hasError('minlength')">La descripción debe tener al menos 10 caracteres</mat-error>
          </mat-form-field>
        </div>

        <!-- Categoría y País -->
        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>Categoría</mat-label>
            <mat-select formControlName="categoria">
              <mat-option value="MEDICAMENTO">Medicamento</mat-option>
              <mat-option value="DISPOSITIVO_MEDICO">Dispositivo Médico</mat-option>
              <mat-option value="EQUIPO">Equipo</mat-option>
              <mat-option value="MATERIAL">Material</mat-option>
              <mat-option value="REACTIVO">Reactivo</mat-option>
            </mat-select>
            <mat-error *ngIf="productoForm.get('categoria')?.hasError('required')">La categoría es requerida</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>País</mat-label>
            <mat-select formControlName="pais">
              <mat-option value="co">Colombia</mat-option>
              <mat-option value="mx">México</mat-option>
              <mat-option value="pe">Perú</mat-option>
              <mat-option value="cl">Chile</mat-option>
              <mat-option value="ar">Argentina</mat-option>
            </mat-select>
            <mat-error *ngIf="productoForm.get('pais')?.hasError('required')">El país es requerido</mat-error>
          </mat-form-field>
        </div>

        <!-- Precio y Stock -->
        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>Precio</mat-label>
            <input matInput type="number" formControlName="precio" step="0.01">
            <mat-error *ngIf="productoForm.get('precio')?.hasError('required')">El precio es requerido</mat-error>
            <mat-error *ngIf="productoForm.get('precio')?.hasError('min')">El precio debe ser mayor o igual a 0</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Stock</mat-label>
            <input matInput type="number" formControlName="stock">
            <mat-error *ngIf="productoForm.get('stock')?.hasError('required')">El stock es requerido</mat-error>
            <mat-error *ngIf="productoForm.get('stock')?.hasError('min')">El stock debe ser mayor o igual a 0</mat-error>
          </mat-form-field>
        </div>

        <!-- ID Proveedor y Activo -->
        <div class="form-row" style="align-items: center;">
          <mat-form-field appearance="outline">
            <mat-label>ID Proveedor (Opcional)</mat-label>
            <input matInput formControlName="proveedor_id">
          </mat-form-field>
          <mat-checkbox formControlName="activo">Producto activo</mat-checkbox>
        </div>

        <!-- Botones -->
        <div class="form-buttons">
          <button mat-outlined-button type="button" class="boton-secundario" style="width: 200px;" (click)="goBack()">
            Volver
          </button>
          <button
            mat-flat-button
            type="submit"
            class="boton-primario"
            style="width: 200px;"
            [disabled]="!productoForm.valid">
            Registrar Producto
          </button>
        </div>

      </div>
    </form>
  </div>
</div>
